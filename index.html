
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Documentation Public APIs</title>

    <!-- Bootstrap core CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="style.css" rel="stylesheet">


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>

<div class="container">

    <div class="blog-header">
        <h1 class="blog-title">Upkeep API Docs</h1>
    </div>

    <div class="row">

        <div class="col-sm-8 blog-main">

            <div class="blog-post">
                <h2>Login</h2>
                <p>Provides you a session token that can be used to make requests as a logged in user.</p>
                <div class="highlight">
                    <h4><span class="key">Endpoint</span>: <span class="val">https://api.onupkeep.com/api/public/login</span></h4>
                    <h4><span class="key">Method</span>: <span class="val">POST</span></h4>
                    <h4><span class="key">Content-Type</span>: <span class="val">application/json</span></h4>
                    <h4><span class="key">Parameters</span>:</h4>
                    <ul>
                        <li>username - User name of upkeep account.</li>
                        <li>password  - Password of upkeep account.</li>
                    </ul>
                </div>
                <p>On success the session token will be returned.</p>
                <pre>
                    {
                        "sessionToken": "r:ee091a894626a62d9dc09073884d91ba"
                    }
                </pre>
            </div><!-- /.blog-post -->

            <div class="blog-post">
                <h2>Logout</h2>
                <p>Invalidates the session token.</p>
                <div class="highlight">
                    <h4><span class="key">Endpoint</span>: <span class="val">https://api.onupkeep.com/api/public/logout</span></h4>
                    <h4><span class="key">Method</span>: <span class="val">POST</span></h4>
                    <h4><span class="key">Content-Type</span>: <span class="val">application/json</span></h4>
                    <h4><span class="key">Parameters</span>:</h4>
                    <ul>
                        <li>sessionToken - The session token obtained from login.</li>
                    </ul>
                </div>
                <p>On success success message message will be returned in <b>message</b> key.</p>
                <pre>
                    {
                        "message": "Successfully logged out"
                    }
                </pre>
            </div><!-- /.blog-post -->

            <div class="blog-post">
                <h2>Work Order Status Change</h2>
                <p>Changes status of your upkeep work order.</p>
                <div class="highlight">
                    <h4><span class="key">Endpoint</span>: <span class="val">https://api.onupkeep.com/api/public/workorder-status</span></h4>
                    <h4><span class="key">Content-Type</span>: <span class="val">application/json</span></h4>
                    <h4><span class="key">Method</span>: <span class="val">POST</span></h4>
                    <h4><span class="key">Parameters</span>:</h4>
                    <ul>
                        <li>sessionToken - The session token obtained from login.</li>
                        <li>id - Id of the work order whose status is to be changed.</li>
                        <li>status - New status of the work order allowed values are- 'open', 'complete', 'onHold', 'inProgress'.</li>
                    </ul>
                </div>
                <p>On success success message message will be returned in <b>message</b> key. For example if the request was to change status to <b>onHold</b>.</p>
                <pre>
                    {
                        "message": "status changed to onHold"
                    }
                </pre>
            </div><!-- /.blog-post -->

            <div class="blog-post">
                <h2>Work Order List</h2>
                <p>Provides all the work orders of user's company.</p>
                <div class="highlight">
                    <h4><span class="key">Endpoint</span>: <span class="val">https://api.onupkeep.com/api/public/workorders</span></h4>
                    <h4><span class="key">Method</span>: <span class="val">POST</span></h4>
                    <h4><span class="key">Content-Type</span>: <span class="val">application/json</span></h4>
                    <h4><span class="key">Parameters</span>:</h4>
                    <ul>
                        <li>sessionToken - The session token obtained from login.</li>
                        <li>offset - (Optional) Integer representing offset value for pagination.</li>
                        <li>limit - (Optional) Integer representing limit value for pagination.</li>
                        <li>filters - (Optional) Array of  objects for filters. Each object will have <b>type</b> and <b>value</b> keys</li>
                    </ul>
                    &nbsp;&nbsp;&nbsp;&nbsp;<b>type</b>- Workorder field to filter on eg 'status'<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;<b>value</b>- Value of field to filter eg.<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;"filters": [{"type": "status", "value": "complete"}]<br>
                    <b>Note</b>- filters are currently allowed on 'status' field only and the allowed values are-  'open', 'complete', 'onHold', 'inProgress'.

                </div>
                <p>On success array of work order object will be returned having the keys- <b>id, status, title, description, dueDate, endDueDate, dateCompleted, completedBy, createdAt, workOrderNo, category, time, cost, assignedBy, assignedTo, asset, location, team</b> (keys not set will be excluded). Response will be similar to.</p>
                <pre>
                    [
                         {
                            "id": "wfhn43LMh3",
                            "status": "open",
                            "title": "Repair sink",
                            "dueDate": "2016-10-22T01:00:00.000Z",
                            "createdAt": "2016-10-20T10:17:13.712Z",
                            "updatedAt": "2016-10-20T10:17:13.712Z",
                            "endDueDate": "2016-10-20T10:17:13.712Z",
                            "dateCompleted": "2016-10-20T10:17:13.712Z",
                            "workOrderNo": "150",
                            "assignedBy": "abc@xyz.com",
                            "assignedTo": "def@xyz.com",
                            "completedBy": "def@xyz.com",
                            "asset": "printer",
                            "location": "New York",
                            "category": "Damage",
                            "cost": "100",
                            "time": "30",
                            "team": "Hardware Group",
                          }
                          ...
                    ]
                </pre>
            </div><!-- /.blog-post -->

            <div class="blog-post">
                <h2>Work Order Creation</h2>
                <p>Creates new work order.</p>
                <div class="highlight">
                    <h4><span class="key">Endpoint</span>: <span class="val">https://api.onupkeep.com/api/public/workorder</span></h4>
                    <h4><span class="key">Method</span>: <span class="val">POST</span></h4>
                    <h4><span class="key">Content-Type</span>: <span class="val">application/json</span></h4>
                    <h4><span class="key">Parameters</span>:</h4>
                    <ul>
                        <li>sessionToken - The session token obtained from login.</li>
                        <li>title - String representing the title of the work order.</li>
                        <li>additionalInfo - (Optional) String representing the additional details of the work order.</li>
                        <li>priority - (Optional) Integer representing the priority of the work order allowed values-0,1,2,3. 0 is default.</li>
                        <li>dueDate - (Optional) Integer representing the timestamp ie <b>milli-seconds</b>(not seconds) passed since Jan 01 1970 UTC.</li>
                    </ul>
                </div>
                <p>On success the <b>id</b>(id of the workorder created) and <b>workOrderNo</b>(workorder serial number) will be returned.</p>
                <pre>
                    {
                        "id": "MC6CwMlBWL"
                        "workOrderNo": "165"
                    }
                </pre>
            </div><!-- /.blog-post -->

            <div class="blog-post">
                <h2>Work Order Request Creation (Without Login)</h2>
                <p>Creates new workorder request.</p>
                <div class="highlight">
                    <h4><span class="key">Endpoint</span>: <span class="val">https://api.onupkeep.com/api/public/request</span></h4>
                    <h4><span class="key">Method</span>: <span class="val">POST</span></h4>
                    <h4><span class="key">Content-Type</span>: <span class="val">application/json</span></h4>
                    <h4><span class="key">Parameters</span>:</h4>
                    <ul>
                        <li>emailAddress - Email id of the person requesting.</li>
                        <li>roleId - Role id of the company/firm/facility.</li>
                        <li>title - String representing the title of the work order request.</li>
                        <li>additionalInfo - (Optional) String representing the additional details of the work order.</li>
                    </ul>
                </div>
                <p>On success the <b>id</b>(id of the workorder request created) and <b>title</b>(title of work order) request will be returned.</p>
                <pre>

                    {
                        "id": "u6h3J4iaIZ",
                        "title": "fix system"
                    }
                    </pre>
                </div><!-- /.blog-post -->

            <div class="blog-post">
                <h2>Error Format</h2>
                <p>All the error will have <b>code</b> and <b>message</b></p>
             <pre>
                    {
                        "code": 400
                        "message": "invalid session token"
                    }
                </pre>
            </div><!-- /.blog-post -->

        </div><!-- /.blog-main -->

    </div><!-- /.row -->

</div><!-- /.container -->
<div class="footer">

</div>


<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://code.jquery.com/ui/1.12.1/jquery-ui.min.js"><\/script>')</script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</body>
</html>
